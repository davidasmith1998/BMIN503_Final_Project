<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>BMIN5030 Final Project: Diabetes Prediction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="BMIN5070_FinalProject_files/libs/clipboard/clipboard.min.js"></script>
<script src="BMIN5070_FinalProject_files/libs/quarto-html/quarto.js"></script>
<script src="BMIN5070_FinalProject_files/libs/quarto-html/popper.min.js"></script>
<script src="BMIN5070_FinalProject_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="BMIN5070_FinalProject_files/libs/quarto-html/anchor.min.js"></script>
<link href="BMIN5070_FinalProject_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="BMIN5070_FinalProject_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="BMIN5070_FinalProject_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="BMIN5070_FinalProject_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="BMIN5070_FinalProject_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">BMIN5030 Final Project: Diabetes Prediction</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Diabetes is a growing public health concern globally, affecting millions of individuals and contributing to a significant burden on healthcare systems. Early detection and management of diabetes are crucial to mitigating its complications. This project explores the use of predictive modeling techniques to identify individuals at risk of diabetes using the Behavioral Risk Factor Surveillance System (BRFSS) 2015 dataset.</p>
<p>The dataset includes health indicators collected through surveys, offering insights into the behavioral, demographic, and clinical characteristics of respondents. By leveraging machine learning algorithms, this study aims to achieve the following objectives:</p>
<ol type="1">
<li><p>Predict the likelihood of diabetes based on survey responses.</p></li>
<li><p>Identify the most significant risk factors contributing to diabetes.</p></li>
<li><p>Evaluate and compare the performance of various machine learning models, focusing on metrics such as accuracy, ROC AUC, and Matthews Correlation Coefficient (MCC).</p></li>
</ol>
<p>The workflow combines data preprocessing, feature selection, exploratory data analysis, and model development using LightGBM. This document provides a step-by-step guide to the analytical process, from data cleaning to model evaluation.</p>
</section>
<section id="data-preprocessing" class="level1">
<h1>Data Preprocessing</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FNN)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'FNN' was built under R version 4.3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>diabetesdata <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"diabetes_012_health_indicators_BRFSS2015.xlsx"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with Diabetes_012 == 1 and rename the column</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>diabetesdata <span class="ot">&lt;-</span> diabetesdata <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Diabetes_012 <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Diabetes_binary =</span> Diabetes_012)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert target into a factor</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>diabetesdata<span class="sc">$</span>Diabetes_binary <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(diabetesdata<span class="sc">$</span>Diabetes_binary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="class-imbalance" class="level2">
<h2 class="anchored" data-anchor-id="class-imbalance">Class Imbalance</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>diabetesdata <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Diabetes_binary)) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Diabetes_binary"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Count"</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We have a significant class imbalance. Since the dataset is quiet large, down sampling the ‘no diabetes’ class is a viable approach for addressing the class imbalance.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Down-sample</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>data_balanced <span class="ot">&lt;-</span> diabetesdata <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Diabetes_binary) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample_n</span>(<span class="at">size =</span> <span class="fu">min</span>(<span class="fu">table</span>(diabetesdata<span class="sc">$</span>Diabetes_binary))) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>data_balanced <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Diabetes_binary)) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Diabetes_binary"</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Count"</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="exploratory-data-analysis" class="level1">
<h1>Exploratory Data Analysis</h1>
<p>Let’s start with broad overview of the dataset using the skimr package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(data_balanced)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">data_balanced</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">70692</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">22</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">21</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 21%">
<col style="width: 13%">
<col style="width: 18%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Diabetes_binary</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">0: 35346, 2: 35346</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 12%">
<col style="width: 16%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">HighBP</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▆▁▁▁▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">HighChol</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.53</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▇▁▁▁▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CholCheck</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▁▁▁▁▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">BMI</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">29.82</td>
<td style="text-align: right;">7.11</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">98</td>
<td style="text-align: left;">▇▅▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Smoker</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.47</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▇▁▁▁▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Stroke</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.24</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HeartDiseaseorAttack</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▇▁▁▁▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">PhysActivity</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.71</td>
<td style="text-align: right;">0.46</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▃▁▁▁▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fruits</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.61</td>
<td style="text-align: right;">0.49</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▅▁▁▁▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Veggies</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▂▁▁▁▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HvyAlcoholConsump</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">AnyHealthcare</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.95</td>
<td style="text-align: right;">0.21</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▁▁▁▁▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NoDocbcCost</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.29</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">GenHlth</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.83</td>
<td style="text-align: right;">1.12</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">▃▇▇▅▂</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MentHlth</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3.67</td>
<td style="text-align: right;">8.08</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">PhysHlth</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5.80</td>
<td style="text-align: right;">10.07</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DiffWalk</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">0.43</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▇▁▁▁▃</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sex</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.46</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▇▁▁▁▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Age</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">8.59</td>
<td style="text-align: right;">2.86</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">▂▂▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Education</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4.93</td>
<td style="text-align: right;">1.03</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">▁▁▆▆▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Income</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5.72</td>
<td style="text-align: right;">2.17</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">▂▂▃▂▇</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>We have 21 numeric predictors in the dataset with no missing values. Let’s check how many are binary predictors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of binary variables in the dataset</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>binary_variable_count <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">sapply</span>(diabetesdata, <span class="cf">function</span>(column) {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">is.numeric</span>(column) <span class="sc">&amp;&amp;</span> <span class="fu">all</span>(column <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>}))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of binary variables:"</span>, binary_variable_count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of binary variables: 14</code></pre>
</div>
</div>
<section id="correlations" class="level2">
<h2 class="anchored" data-anchor-id="correlations">Correlations</h2>
<p>Now let’s check the spearman correlations between the predictors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'reshape2'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:tidyr':

    smiths</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the correlation matrix</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>correlation_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(data_balanced[,<span class="sc">-</span><span class="dv">1</span>], <span class="at">use =</span> <span class="st">"complete.obs"</span>,<span class="at">method =</span> <span class="st">"spearman"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Melt the correlation matrix for ggplot</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>melted_corr <span class="ot">&lt;-</span> <span class="fu">melt</span>(correlation_matrix)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the heat map</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(melted_corr, <span class="fu">aes</span>(<span class="at">x =</span> Var1, <span class="at">y =</span> Var2, <span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>, <span class="at">mid =</span> <span class="st">"white"</span>, </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>                       <span class="at">midpoint =</span> <span class="dv">0</span>, <span class="at">limit =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>), <span class="at">space =</span> <span class="st">"Lab"</span>, </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>                       <span class="at">name =</span> <span class="st">"Correlation"</span>) <span class="sc">+</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Correlation Heat Map"</span>,</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Features"</span>,</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Features"</span>) <span class="sc">+</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Melt the correlation matrix</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>melted_corr <span class="ot">&lt;-</span> <span class="fu">melt</span>(correlation_matrix)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove self-correlations</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>melted_corr <span class="ot">&lt;-</span> melted_corr[melted_corr<span class="sc">$</span>Var1 <span class="sc">!=</span> melted_corr<span class="sc">$</span>Var2, ]</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by absolute correlation values</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>melted_corr <span class="ot">&lt;-</span> melted_corr <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="fu">abs</span>(value)))</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the top 5 positive correlations</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>top_positive <span class="ot">&lt;-</span> melted_corr <span class="sc">%&gt;%</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(value <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the top 5 negative correlations</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>top_negative <span class="ot">&lt;-</span> melted_corr <span class="sc">%&gt;%</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(value <span class="sc">&lt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Top 5 Positive Correlations:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Top 5 Positive Correlations:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top_positive)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Var1      Var2     value
1 PhysHlth   GenHlth 0.5211433
2  GenHlth  PhysHlth 0.5211433
3 DiffWalk   GenHlth 0.4690175
4  GenHlth  DiffWalk 0.4690175
5   Income Education 0.4636516</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Top 5 Negative Correlations:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Top 5 Negative Correlations:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top_negative)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Var1     Var2      value
1    Income  GenHlth -0.3871395
2   GenHlth   Income -0.3871395
3    Income DiffWalk -0.3398124
4  DiffWalk   Income -0.3398124
5 Education  GenHlth -0.2819832</code></pre>
</div>
</div>
<p>As we might expect physical health, general health, and difficulty walking all have a fairly high correlation with one another.</p>
</section>
<section id="diabetes-comparison-plots" class="level2">
<h2 class="anchored" data-anchor-id="diabetes-comparison-plots">Diabetes Comparison Plots</h2>
<p>Now let’s visualize how some of these predictors relate to the target variable, Diabetes_binary.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Relabel Diabetes_binary levels</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>data_balanced<span class="sc">$</span>Diabetes_binary <span class="ot">&lt;-</span> <span class="fu">factor</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  data_balanced<span class="sc">$</span>Diabetes_binary,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"No Diabetes"</span>, <span class="st">"Diabetes"</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate proportions within each GenHlth level</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>genhlth_proportions <span class="ot">&lt;-</span> data_balanced <span class="sc">%&gt;%</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(GenHlth, Diabetes_binary) <span class="sc">%&gt;%</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(GenHlth) <span class="sc">%&gt;%</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion =</span> Count <span class="sc">/</span> <span class="fu">sum</span>(Count))</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot proportions for GenHlth </span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(genhlth_proportions, <span class="fu">aes</span>(</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">factor</span>(GenHlth, <span class="at">levels =</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">1</span>,  </span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Poor"</span>, <span class="st">"Fair"</span>, <span class="st">"Good"</span>, <span class="st">"Very Good"</span>, <span class="st">"Excellent"</span>)),</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> Proportion, <span class="at">fill =</span> Diabetes_binary)) <span class="sc">+</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"General Health (GenHlth)"</span>,</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Diabetes Status"</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate proportions within each Education level</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>education_proportions <span class="ot">&lt;-</span> data_balanced <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Education, Diabetes_binary) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Education) <span class="sc">%&gt;%</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion =</span> Count <span class="sc">/</span> <span class="fu">sum</span>(Count))</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define labels</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>education_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Never Attended School"</span>, <span class="st">"Elementary"</span>, <span class="st">"Junior High"</span>, <span class="st">"Senior High"</span>,</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Undergraduate"</span>, <span class="st">"Graduate"</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot proportions for Education</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(education_proportions, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Education, <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">labels =</span> education_labels),</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">y =</span> Proportion, <span class="at">fill =</span> Diabetes_binary)) <span class="sc">+</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Education Level"</span>,</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Diabetes_binary"</span>) <span class="sc">+</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate proportions within each HighBP level</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>highbp_proportions <span class="ot">&lt;-</span> data_balanced <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(HighBP, Diabetes_binary) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(HighBP) <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion =</span> Count <span class="sc">/</span> <span class="fu">sum</span>(Count))</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot proportions for HighBP</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(highbp_proportions, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(HighBP, <span class="at">levels =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>)),</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>                               <span class="at">y =</span> Proportion, <span class="at">fill =</span> Diabetes_binary)) <span class="sc">+</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"High Blood Pressure (HighBP)"</span>,</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Diabetes_binary"</span>) <span class="sc">+</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate proportions within each Age group</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>age_proportions <span class="ot">&lt;-</span> data_balanced <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age, Diabetes_binary) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age) <span class="sc">%&gt;%</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion =</span> Count <span class="sc">/</span> <span class="fu">sum</span>(Count))</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define labels</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>age_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"18-24"</span>, <span class="st">"25-29"</span>, <span class="st">"30-34"</span>, <span class="st">"35-39"</span>, <span class="st">"40-44"</span>, <span class="st">"45-49"</span>, </span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">"50-54"</span>, <span class="st">"55-59"</span>, <span class="st">"60-64"</span>, <span class="st">"65-69"</span>, <span class="st">"70-74"</span>, <span class="st">"75-79"</span>, <span class="st">"80+"</span>)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot proportions for Age</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(age_proportions, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Age, <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">labels =</span> age_labels),</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>                            <span class="at">y =</span> Proportion, <span class="at">fill =</span> Diabetes_binary)) <span class="sc">+</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age Group"</span>,</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Diabetes_binary"</span>) <span class="sc">+</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate proportions within each CholCheck level</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>cholcheck_proportions <span class="ot">&lt;-</span> data_balanced <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(CholCheck, Diabetes_binary) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(CholCheck) <span class="sc">%&gt;%</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion =</span> Count <span class="sc">/</span> <span class="fu">sum</span>(Count))</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define labels</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>cholcheck_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot proportions for CholCheck</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cholcheck_proportions, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(CholCheck, <span class="at">levels =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">labels =</span> cholcheck_labels),</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">y =</span> Proportion, <span class="at">fill =</span> Diabetes_binary)) <span class="sc">+</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Cholesterol Check Status"</span>,</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Diabetes Status"</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate proportions within each Income group</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>income_proportions <span class="ot">&lt;-</span> data_balanced <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Income, Diabetes_binary) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Income) <span class="sc">%&gt;%</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion =</span> Count <span class="sc">/</span> <span class="fu">sum</span>(Count))</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define labels</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>income_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"&lt; $10k"</span>, <span class="st">"$10k-$15k"</span>, <span class="st">"$15k-$20k"</span>, <span class="st">"$20k-$25k"</span>,</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"$25k-$35k"</span>, <span class="st">"$35k-$50k"</span>, <span class="st">"$50k-$75k"</span>, <span class="st">"≥ $75k"</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot proportions for Income</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(income_proportions, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Income, <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">labels =</span> income_labels),</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>                               <span class="at">y =</span> Proportion, <span class="at">fill =</span> Diabetes_binary)) <span class="sc">+</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Income Level"</span>,</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Diabetes_binary"</span>) <span class="sc">+</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the count plot</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_balanced, <span class="fu">aes</span>(<span class="at">x =</span> BMI, <span class="at">fill =</span> Diabetes_binary)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"BMI"</span>,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Diabetes Status"</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>)</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>There appear to be significant differences between the diabetes and no diabetes groups based on these predictors. In particular, general health appears to have a strong correlation with diabetes.</p>
</section>
<section id="unsupervised-analysis" class="level2">
<h2 class="anchored" data-anchor-id="unsupervised-analysis">Unsupervised Analysis</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(umap)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Take a random sample of 500 cases for each group</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>data_subsample <span class="ot">&lt;-</span> data_balanced <span class="sc">%&gt;%</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Diabetes_binary) <span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample_n</span>(<span class="at">size =</span> <span class="dv">500</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract Diabetes_binary for coloring</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>diabetes_binary <span class="ot">&lt;-</span> data_subsample<span class="sc">$</span>Diabetes_binary</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove Diabetes_binary from the dataset for UMAP</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>umap_data <span class="ot">&lt;-</span> data_subsample <span class="sc">%&gt;%</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Diabetes_binary)</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Scale the data</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="ot">&lt;-</span> <span class="fu">scale</span>(umap_data)</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform UMAP</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>umap_results <span class="ot">&lt;-</span> <span class="fu">umap</span>(scaled_data, <span class="at">n_neighbors =</span> <span class="dv">15</span>, <span class="at">min_dist =</span> <span class="fl">0.1</span>, <span class="at">n_components =</span> <span class="dv">2</span>)</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract UMAP embeddings</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>umap_embeddings <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(umap_results<span class="sc">$</span>layout)</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(umap_embeddings) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"UMAP1"</span>, <span class="st">"UMAP2"</span>)</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Diabetes_binary back to UMAP results</span></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>umap_embeddings<span class="sc">$</span>Diabetes_binary <span class="ot">&lt;-</span> diabetes_binary</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot with consistent labels</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(umap_embeddings, <span class="fu">aes</span>(<span class="at">x =</span> UMAP1, <span class="at">y =</span> UMAP2, <span class="at">color =</span> Diabetes_binary)) <span class="sc">+</span></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span>  <span class="co"># Points</span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_ellipse</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Diabetes_binary), <span class="at">geom =</span> <span class="st">"polygon"</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span>  <span class="co"># Transparent ellipses</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"UMAP Dimension 1"</span>,</span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"UMAP Dimension 2"</span>,</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Diabetes Status"</span>,</span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Diabetes Status"</span></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>There doesn’t seem to be too much separation between people with and without diabetes. This might be a challenge for a predictive model.</p>
</section>
</section>
<section id="feature-selection" class="level1">
<h1>Feature Selection</h1>
<p>Let’s try to identify which features are most important for predicting whether a person has diabetes or not.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'gt' was built under R version 4.3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'gridExtra'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    combine</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Split predictors (X) and target (Y)</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> data_balanced <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>Diabetes_binary)  </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> data_balanced<span class="sc">$</span>Diabetes_binary</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform Chi-squared test for each feature</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>chi_sq_results <span class="ot">&lt;-</span> <span class="fu">sapply</span>(X, <span class="cf">function</span>(column) {</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">chisq.test</span>(<span class="fu">table</span>(column, Y))<span class="sc">$</span>statistic</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in chisq.test(table(column, Y)): Chi-squared approximation may be
incorrect</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in chisq.test(table(column, Y)): Chi-squared approximation may be
incorrect
Warning in chisq.test(table(column, Y)): Chi-squared approximation may be
incorrect</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame with feature scores</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>f_Scores <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Feature =</span> <span class="fu">names</span>(chi_sq_results),</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Score =</span> chi_sq_results</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the scores in descending order</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>f_Scores <span class="ot">&lt;-</span> f_Scores <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(Score))</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a publication-quality table for the top 10 features</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>top_10_features <span class="ot">&lt;-</span> f_Scores <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>gt_table <span class="ot">&lt;-</span> top_10_features <span class="sc">%&gt;%</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Top 10 Features by Chi-Squared Score"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="fu">vars</span>(Score), <span class="at">decimals =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">Feature =</span> <span class="st">"Feature Name"</span>,</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">Score =</span> <span class="st">"Chi-Squared Score"</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">list</span>(</span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cell_text</span>(<span class="at">weight =</span> <span class="st">"bold"</span>)</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_column_labels</span>(<span class="fu">everything</span>())</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Since gt v0.3.0, `columns = vars(...)` has been deprecated.
• Please use `columns = c(...)` instead.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.table</span>(<span class="fu">as.data.frame</span>(top_10_features))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>It looks like general health and high blood pressure are most associated with diabetes here.</p>
<p>Now let’s look at the odds ratios from a logistic regression model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: lattice</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'caret'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    lift</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'broom' was built under R version 4.3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into training and testing sets</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>train_index <span class="ot">&lt;-</span> <span class="fu">createDataPartition</span>(data_balanced<span class="sc">$</span>Diabetes_binary, <span class="at">p =</span> <span class="fl">0.75</span>, <span class="at">list =</span> <span class="cn">FALSE</span>)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>train_data <span class="ot">&lt;-</span> data_balanced[train_index, ]</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>test_data <span class="ot">&lt;-</span> data_balanced[<span class="sc">-</span>train_index, ]</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit a logistic regression model</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>logistic_model <span class="ot">&lt;-</span> <span class="fu">glm</span>(</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  Diabetes_binary <span class="sc">~</span> .,  <span class="co"># Include all predictors</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> train_data,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> binomial</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the model</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(logistic_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = Diabetes_binary ~ ., family = binomial, data = train_data)

Coefficients:
                      Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)          -6.801211   0.142528 -47.718  &lt; 2e-16 ***
HighBP                0.747774   0.022893  32.664  &lt; 2e-16 ***
HighChol              0.584304   0.021898  26.683  &lt; 2e-16 ***
CholCheck             1.282654   0.092711  13.835  &lt; 2e-16 ***
BMI                   0.078982   0.001841  42.913  &lt; 2e-16 ***
Smoker                0.023727   0.021895   1.084  0.27852    
Stroke                0.111391   0.046997   2.370  0.01778 *  
HeartDiseaseorAttack  0.212956   0.032806   6.491 8.51e-11 ***
PhysActivity         -0.047338   0.024777  -1.911  0.05606 .  
Fruits               -0.037369   0.022755  -1.642  0.10054    
Veggies              -0.053050   0.027075  -1.959  0.05007 .  
HvyAlcoholConsump    -0.758839   0.056277 -13.484  &lt; 2e-16 ***
AnyHealthcare         0.080893   0.054427   1.486  0.13721    
NoDocbcCost           0.088728   0.039818   2.228  0.02586 *  
GenHlth               0.589198   0.013207  44.613  &lt; 2e-16 ***
MentHlth             -0.001495   0.001498  -0.998  0.31840    
PhysHlth             -0.010647   0.001377  -7.735 1.03e-14 ***
DiffWalk              0.090412   0.030110   3.003  0.00268 ** 
Sex                   0.268165   0.022219  12.069  &lt; 2e-16 ***
Age                   0.152445   0.004514  33.769  &lt; 2e-16 ***
Education            -0.051899   0.011881  -4.368 1.25e-05 ***
Income               -0.065010   0.006061 -10.726  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 73501  on 53019  degrees of freedom
Residual deviance: 53894  on 52998  degrees of freedom
AIC: 53938

Number of Fisher Scoring iterations: 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>coefficients <span class="ot">&lt;-</span> <span class="fu">tidy</span>(logistic_model, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>coefficients <span class="ot">&lt;-</span> coefficients <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Odds_Ratio =</span> <span class="fu">exp</span>(estimate), </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">Lower_CI =</span> <span class="fu">exp</span>(conf.low), </span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">Upper_CI =</span> <span class="fu">exp</span>(conf.high))</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(coefficients)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 22 × 10
   term     estimate std.error statistic   p.value conf.low conf.high Odds_Ratio
   &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;
 1 (Interc…  -6.80     0.143      -47.7  0          -7.08    -6.52       0.00111
 2 HighBP     0.748    0.0229      32.7  5.01e-234   0.703    0.793      2.11   
 3 HighChol   0.584    0.0219      26.7  7.32e-157   0.541    0.627      1.79   
 4 CholChe…   1.28     0.0927      13.8  1.57e- 43   1.10     1.47       3.61   
 5 BMI        0.0790   0.00184     42.9  0           0.0754   0.0826     1.08   
 6 Smoker     0.0237   0.0219       1.08 2.79e-  1  -0.0192   0.0666     1.02   
 7 Stroke     0.111    0.0470       2.37 1.78e-  2   0.0196   0.204      1.12   
 8 HeartDi…   0.213    0.0328       6.49 8.51e- 11   0.149    0.277      1.24   
 9 PhysAct…  -0.0473   0.0248      -1.91 5.61e-  2  -0.0959   0.00123    0.954  
10 Fruits    -0.0374   0.0228      -1.64 1.01e-  1  -0.0820   0.00723    0.963  
# ℹ 12 more rows
# ℹ 2 more variables: Lower_CI &lt;dbl&gt;, Upper_CI &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot odds ratios</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(coefficients, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(term, Odds_Ratio), <span class="at">y =</span> Odds_Ratio)) <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Lower_CI, <span class="at">ymax =</span> Upper_CI), <span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Odds Ratios and Confidence Intervals"</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Predictors"</span>,</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Odds Ratio"</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make predictions on the test set</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>test_data <span class="ot">&lt;-</span> test_data <span class="sc">%&gt;%</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span>  </span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Predicted_Probability =</span> <span class="fu">predict</span>(logistic_model, <span class="at">newdata =</span> test_data, <span class="at">type =</span> <span class="st">"response"</span>),</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Predicted_Class =</span> <span class="fu">ifelse</span>(Predicted_Probability <span class="sc">&gt;</span> <span class="fl">0.5</span>, <span class="st">"Diabetes"</span>, <span class="st">"No Diabetes"</span>)</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate the model using a confusion matrix</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>confusion <span class="ot">&lt;-</span> <span class="fu">confusionMatrix</span>(</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.factor</span>(test_data<span class="sc">$</span>Predicted_Class),</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.factor</span>(test_data<span class="sc">$</span>Diabetes_binary)</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in confusionMatrix.default(as.factor(test_data$Predicted_Class), :
Levels are not in the same order for reference and data. Refactoring data to
match.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(confusion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    No Diabetes Diabetes
  No Diabetes        6424     2023
  Diabetes           2412     6813
                                          
               Accuracy : 0.749           
                 95% CI : (0.7426, 0.7554)
    No Information Rate : 0.5             
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.4981          
                                          
 Mcnemar's Test P-Value : 5.671e-09       
                                          
            Sensitivity : 0.7270          
            Specificity : 0.7711          
         Pos Pred Value : 0.7605          
         Neg Pred Value : 0.7385          
             Prevalence : 0.5000          
         Detection Rate : 0.3635          
   Detection Prevalence : 0.4780          
      Balanced Accuracy : 0.7490          
                                          
       'Positive' Class : No Diabetes     
                                          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot ROC Curve</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pROC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Type 'citation("pROC")' for a citation.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'pROC'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    cov, smooth, var</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>roc_curve <span class="ot">&lt;-</span> <span class="fu">roc</span>(test_data<span class="sc">$</span>Diabetes_binary, test_data<span class="sc">$</span>Predicted_Probability)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Setting levels: control = No Diabetes, case = Diabetes</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Setting direction: controls &lt; cases</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(roc_curve, <span class="at">col =</span> <span class="st">"blue"</span>, <span class="at">main =</span> <span class="st">"ROC Curve"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>auc <span class="ot">&lt;-</span> <span class="fu">auc</span>(roc_curve)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"AUC:"</span>, auc, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>AUC: 0.8255128 </code></pre>
</div>
</div>
<p>Interesting! The CholCheck variable has the highest odds ratio by far. This variable represents people who have had their cholesterol checked within the past 5 years (yes or no).</p>
<p>Finally, let’s utilize the Boruta package to identify important variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Boruta)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)  </span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>boruta_result <span class="ot">&lt;-</span> <span class="fu">Boruta</span>(</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  Diabetes_binary <span class="sc">~</span> .,  </span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> data_balanced,</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">maxRuns =</span> <span class="dv">11</span>, </span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">doTrace =</span> <span class="dv">2</span>           </span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code> 1. run of importance source...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing permutation importance.. Progress: 41%. Estimated remaining time: 44 seconds.
Computing permutation importance.. Progress: 83%. Estimated remaining time: 13 seconds.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> 2. run of importance source...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing permutation importance.. Progress: 41%. Estimated remaining time: 45 seconds.
Computing permutation importance.. Progress: 82%. Estimated remaining time: 13 seconds.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> 3. run of importance source...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing permutation importance.. Progress: 41%. Estimated remaining time: 44 seconds.
Computing permutation importance.. Progress: 82%. Estimated remaining time: 13 seconds.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> 4. run of importance source...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing permutation importance.. Progress: 41%. Estimated remaining time: 44 seconds.
Computing permutation importance.. Progress: 82%. Estimated remaining time: 13 seconds.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> 5. run of importance source...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing permutation importance.. Progress: 41%. Estimated remaining time: 45 seconds.
Computing permutation importance.. Progress: 81%. Estimated remaining time: 14 seconds.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> 6. run of importance source...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing permutation importance.. Progress: 40%. Estimated remaining time: 46 seconds.
Computing permutation importance.. Progress: 80%. Estimated remaining time: 15 seconds.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> 7. run of importance source...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing permutation importance.. Progress: 41%. Estimated remaining time: 45 seconds.
Computing permutation importance.. Progress: 81%. Estimated remaining time: 14 seconds.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> 8. run of importance source...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing permutation importance.. Progress: 41%. Estimated remaining time: 44 seconds.
Computing permutation importance.. Progress: 82%. Estimated remaining time: 13 seconds.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> 9. run of importance source...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing permutation importance.. Progress: 41%. Estimated remaining time: 45 seconds.
Computing permutation importance.. Progress: 81%. Estimated remaining time: 14 seconds.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> 10. run of importance source...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Computing permutation importance.. Progress: 40%. Estimated remaining time: 45 seconds.
Computing permutation importance.. Progress: 81%. Estimated remaining time: 14 seconds.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the Boruta results</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(boruta_result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Boruta performed 10 iterations in 16.98103 mins.
 No attributes deemed important.
 No attributes deemed unimportant.
 21 tentative attributes left: Age, AnyHealthcare, BMI, CholCheck,
DiffWalk and 16 more;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the importance of variables</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(boruta_result, <span class="at">las =</span> <span class="dv">2</span>, <span class="at">cex.axis =</span> <span class="fl">0.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Finalize the selection of important variables</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>final_vars <span class="ot">&lt;-</span> <span class="fu">getSelectedAttributes</span>(boruta_result, <span class="at">withTentative =</span> <span class="cn">TRUE</span>)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Important Variables:</span><span class="sc">\n</span><span class="st">"</span>, final_vars, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Important Variables:
 HighBP HighChol CholCheck BMI Smoker Stroke HeartDiseaseorAttack PhysActivity Fruits Veggies HvyAlcoholConsump AnyHealthcare NoDocbcCost GenHlth MentHlth PhysHlth DiffWalk Sex Age Education Income </code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display a detailed summary of results</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>boruta_summary <span class="ot">&lt;-</span> <span class="fu">attStats</span>(boruta_result)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(boruta_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                        meanImp  medianImp     minImp     maxImp normHits
HighBP               125.956838 124.769458 122.054417 134.948302        1
HighChol              89.753003  88.532743  86.233330  98.316956        1
CholCheck             44.314864  43.921186  41.216464  48.833940        1
BMI                  138.960593 139.522482 133.747973 142.819494        1
Smoker                 6.667727   7.080857   4.653903   8.393310        1
Stroke                28.482049  28.416414  26.903391  31.187915        1
HeartDiseaseorAttack  53.080744  52.637204  51.064650  56.113014        1
PhysActivity          15.482669  15.735742  12.952536  17.671050        1
Fruits                 4.518604   4.606711   2.875100   6.059251        1
Veggies                7.086863   6.958475   5.491584   9.580681        1
HvyAlcoholConsump     41.176820  40.581663  39.563017  45.278584        1
AnyHealthcare          3.330619   3.252251   2.810591   3.931379        1
NoDocbcCost            6.753417   6.792077   5.873843   7.705449        1
GenHlth              146.522316 146.151570 138.714026 155.634393        1
MentHlth              12.593007  12.579441  10.683840  14.520837        1
PhysHlth              38.216521  38.134063  36.305330  40.714385        1
DiffWalk              49.607611  49.535575  48.358889  50.992775        1
Sex                   18.944269  18.805981  16.943460  20.294045        1
Age                  121.470844 123.744563 111.989114 127.370149        1
Education             24.166050  24.076417  23.104232  25.159814        1
Income                49.298873  49.074445  46.782862  52.564718        1
                      decision
HighBP               Tentative
HighChol             Tentative
CholCheck            Tentative
BMI                  Tentative
Smoker               Tentative
Stroke               Tentative
HeartDiseaseorAttack Tentative
PhysActivity         Tentative
Fruits               Tentative
Veggies              Tentative
HvyAlcoholConsump    Tentative
AnyHealthcare        Tentative
NoDocbcCost          Tentative
GenHlth              Tentative
MentHlth             Tentative
PhysHlth             Tentative
DiffWalk             Tentative
Sex                  Tentative
Age                  Tentative
Education            Tentative
Income               Tentative</code></pre>
</div>
</div>
<p>It looks like general health, BMI, high blood pressure, and age were most important for predicting diabetes. No doctor because of cost was least important and even lower than the shadow max importance provided by Boruta. As a result, we will drop this predictor before training the final predictive model.<br>
<br>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>data_balanced<span class="ot">&lt;-</span>data_balanced <span class="sc">%&gt;%</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>NoDocbcCost)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="predictive-model" class="level1">
<h1>Predictive Model</h1>
<p>Let’s train a light gradient boosting machine (LightGBM) using tidymodels. We can tune the hyper parameters using 10-fold cross validation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ────────────────────────────────────── tidymodels 1.2.0 ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ dials        1.3.0     ✔ rsample      1.2.1
✔ infer        1.0.7     ✔ tune         1.2.1
✔ modeldata    1.4.0     ✔ workflows    1.1.4
✔ parsnip      1.2.1     ✔ workflowsets 1.1.0
✔ recipes      1.1.0     ✔ yardstick    1.3.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dials' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'modeldata' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'recipes' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──
✖ gridExtra::combine()     masks dplyr::combine()
✖ scales::discard()        masks purrr::discard()
✖ dplyr::filter()          masks stats::filter()
✖ recipes::fixed()         masks stringr::fixed()
✖ dplyr::lag()             masks stats::lag()
✖ caret::lift()            masks purrr::lift()
✖ yardstick::precision()   masks caret::precision()
✖ yardstick::recall()      masks caret::recall()
✖ yardstick::sensitivity() masks caret::sensitivity()
✖ yardstick::spec()        masks readr::spec()
✖ yardstick::specificity() masks caret::specificity()
✖ recipes::step()          masks stats::step()
• Learn how to get started at https://www.tidymodels.org/start/</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bonsai)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'bonsai' was built under R version 4.3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(future) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'future' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'future'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:caret':

    cluster</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lightgbm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'lightgbm' was built under R version 4.3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into training and testing sets</span></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>data_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(data_balanced, <span class="at">prop =</span> <span class="dv">3</span><span class="sc">/</span><span class="dv">4</span>, <span class="at">strata =</span> Diabetes_binary)</span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>train_data <span class="ot">&lt;-</span> <span class="fu">training</span>(data_split)</span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>test_data  <span class="ot">&lt;-</span> <span class="fu">testing</span>(data_split)</span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create cross-validation folds</span></span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a>cv_fold <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(train_data, <span class="at">v =</span> <span class="dv">10</span>, <span class="at">strata =</span> <span class="st">"Diabetes_binary"</span>)</span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a recipe for preprocessing</span></span>
<span id="cb112-14"><a href="#cb112-14" aria-hidden="true" tabindex="-1"></a>rec <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Diabetes_binary <span class="sc">~</span> ., <span class="at">data =</span> train_data) <span class="sc">%&gt;%</span></span>
<span id="cb112-15"><a href="#cb112-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_YeoJohnson</span>(<span class="fu">all_numeric_predictors</span>())  <span class="co"># Transform numeric features to reduce skew</span></span>
<span id="cb112-16"><a href="#cb112-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-17"><a href="#cb112-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-18"><a href="#cb112-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-19"><a href="#cb112-19" aria-hidden="true" tabindex="-1"></a><span class="co"># LightGBM model specification</span></span>
<span id="cb112-20"><a href="#cb112-20" aria-hidden="true" tabindex="-1"></a>lgbm_spec <span class="ot">&lt;-</span> <span class="fu">boost_tree</span>(</span>
<span id="cb112-21"><a href="#cb112-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">trees =</span> <span class="fu">tune</span>(),</span>
<span id="cb112-22"><a href="#cb112-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">tree_depth =</span> <span class="fu">tune</span>(),</span>
<span id="cb112-23"><a href="#cb112-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">learn_rate =</span> <span class="fu">tune</span>(),</span>
<span id="cb112-24"><a href="#cb112-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">mtry =</span> <span class="fu">tune</span>(),</span>
<span id="cb112-25"><a href="#cb112-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">min_n =</span> <span class="fu">tune</span>(),</span>
<span id="cb112-26"><a href="#cb112-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">loss_reduction =</span> <span class="fu">tune</span>()</span>
<span id="cb112-27"><a href="#cb112-27" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb112-28"><a href="#cb112-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"lightgbm"</span>,</span>
<span id="cb112-29"><a href="#cb112-29" aria-hidden="true" tabindex="-1"></a>             <span class="at">is_unbalance =</span> <span class="cn">TRUE</span>, </span>
<span id="cb112-30"><a href="#cb112-30" aria-hidden="true" tabindex="-1"></a>             <span class="at">num_leaves =</span> <span class="fu">tune</span>(),</span>
<span id="cb112-31"><a href="#cb112-31" aria-hidden="true" tabindex="-1"></a>             <span class="at">nthread =</span> future<span class="sc">::</span><span class="fu">availableCores</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb112-32"><a href="#cb112-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>)</span>
<span id="cb112-33"><a href="#cb112-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-34"><a href="#cb112-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine recipe and model into a workflow</span></span>
<span id="cb112-35"><a href="#cb112-35" aria-hidden="true" tabindex="-1"></a>wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span></span>
<span id="cb112-36"><a href="#cb112-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(lgbm_spec) <span class="sc">%&gt;%</span></span>
<span id="cb112-37"><a href="#cb112-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(rec)</span>
<span id="cb112-38"><a href="#cb112-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-39"><a href="#cb112-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Define tuning parameters</span></span>
<span id="cb112-40"><a href="#cb112-40" aria-hidden="true" tabindex="-1"></a>lgbm_params <span class="ot">&lt;-</span> wf <span class="sc">%&gt;%</span></span>
<span id="cb112-41"><a href="#cb112-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_parameter_set_dials</span>() <span class="sc">%&gt;%</span></span>
<span id="cb112-42"><a href="#cb112-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update</span>(</span>
<span id="cb112-43"><a href="#cb112-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">trees =</span> <span class="fu">trees</span>(<span class="fu">c</span>(<span class="dv">300</span>, <span class="dv">1500</span>)),</span>
<span id="cb112-44"><a href="#cb112-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">mtry =</span> <span class="fu">mtry</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">21</span>)),</span>
<span id="cb112-45"><a href="#cb112-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_n =</span> <span class="fu">min_n</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">90</span>)),</span>
<span id="cb112-46"><a href="#cb112-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">tree_depth =</span> <span class="fu">tree_depth</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">25</span>)),</span>
<span id="cb112-47"><a href="#cb112-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">learn_rate =</span> <span class="fu">learn_rate</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="sc">-</span><span class="fl">1.5</span>)), </span>
<span id="cb112-48"><a href="#cb112-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">num_leaves =</span> <span class="fu">num_leaves</span>(<span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">1000</span>))</span>
<span id="cb112-49"><a href="#cb112-49" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb112-50"><a href="#cb112-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">finalize</span>(train_data)</span>
<span id="cb112-51"><a href="#cb112-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-52"><a href="#cb112-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Control settings for tuning</span></span>
<span id="cb112-53"><a href="#cb112-53" aria-hidden="true" tabindex="-1"></a>lgbm_ctrl <span class="ot">&lt;-</span> <span class="fu">control_grid</span>(</span>
<span id="cb112-54"><a href="#cb112-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="cn">TRUE</span>,</span>
<span id="cb112-55"><a href="#cb112-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">save_pred =</span> <span class="cn">TRUE</span>,</span>
<span id="cb112-56"><a href="#cb112-56" aria-hidden="true" tabindex="-1"></a>  <span class="at">save_workflow =</span> <span class="cn">TRUE</span></span>
<span id="cb112-57"><a href="#cb112-57" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb112-58"><a href="#cb112-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-59"><a href="#cb112-59" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform hyperparameter tuning</span></span>
<span id="cb112-60"><a href="#cb112-60" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb112-61"><a href="#cb112-61" aria-hidden="true" tabindex="-1"></a>lgbm_res <span class="ot">&lt;-</span> <span class="fu">tune_grid</span>(</span>
<span id="cb112-62"><a href="#cb112-62" aria-hidden="true" tabindex="-1"></a>  wf,</span>
<span id="cb112-63"><a href="#cb112-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">resamples =</span> cv_fold,</span>
<span id="cb112-64"><a href="#cb112-64" aria-hidden="true" tabindex="-1"></a>  <span class="at">grid =</span> <span class="dv">20</span>,</span>
<span id="cb112-65"><a href="#cb112-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> lgbm_ctrl,</span>
<span id="cb112-66"><a href="#cb112-66" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Choose metrics appropriate for classification</span></span>
<span id="cb112-67"><a href="#cb112-67" aria-hidden="true" tabindex="-1"></a>  <span class="at">metrics =</span> <span class="fu">metric_set</span>(accuracy, roc_auc, mcc),</span>
<span id="cb112-68"><a href="#cb112-68" aria-hidden="true" tabindex="-1"></a>  <span class="at">param_info =</span> lgbm_params</span>
<span id="cb112-69"><a href="#cb112-69" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 1/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 1/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 2/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 2/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 3/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 3/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 4/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 4/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 5/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 5/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 6/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 6/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 7/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 7/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 8/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 8/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 9/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 9/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 10/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 10/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 11/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 11/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 12/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 12/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 13/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 13/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 14/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 14/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 15/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 15/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 16/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 16/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 17/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 17/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 18/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 18/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold01: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 19/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 19/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold01: preprocessor 1/1, model 20/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>x Fold01: preprocessor 1/1, model 20/20:
  Error in data$construct(): Check failed: (feature_fraction_bynode) &lt;= ...
  </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 1/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 1/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 2/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 2/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 3/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 3/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 4/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 4/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 5/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 5/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 6/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 6/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 7/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 7/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 8/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 8/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 9/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 9/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 10/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 10/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 11/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 11/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 12/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 12/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 13/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 13/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 14/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 14/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 15/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 15/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 16/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 16/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 17/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 17/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 18/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 18/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold02: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 19/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 19/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold02: preprocessor 1/1, model 20/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>x Fold02: preprocessor 1/1, model 20/20:
  Error in data$construct(): Check failed: (feature_fraction_bynode) &lt;= ...
  </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 1/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 1/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 2/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 2/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 3/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 3/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 4/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 4/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 5/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 5/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 6/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 6/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 7/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 7/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 8/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 8/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 9/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 9/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 10/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 10/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 11/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 11/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 12/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 12/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 13/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 13/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 14/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 14/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 15/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 15/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 16/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 16/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 17/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 17/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 18/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 18/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold03: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 19/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 19/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold03: preprocessor 1/1, model 20/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>x Fold03: preprocessor 1/1, model 20/20:
  Error in data$construct(): Check failed: (feature_fraction_bynode) &lt;= ...
  </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 1/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 1/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 2/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 2/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 3/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 3/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 4/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 4/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 5/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 5/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 6/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 6/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 7/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 7/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 8/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 8/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 9/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 9/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 10/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 10/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 11/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 11/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 12/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 12/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 13/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 13/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 14/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 14/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 15/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 15/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 16/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 16/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 17/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 17/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 18/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 18/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold04: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 19/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 19/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold04: preprocessor 1/1, model 20/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>x Fold04: preprocessor 1/1, model 20/20:
  Error in data$construct(): Check failed: (feature_fraction_bynode) &lt;= ...
  </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 1/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 1/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 2/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 2/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 3/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 3/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 4/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 4/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 5/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 5/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 6/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 6/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 7/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 7/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 8/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 8/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 9/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 9/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 10/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 10/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 11/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 11/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 12/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 12/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 13/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 13/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 14/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 14/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 15/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 15/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 16/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 16/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 17/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 17/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 18/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 18/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold05: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 19/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 19/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold05: preprocessor 1/1, model 20/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>x Fold05: preprocessor 1/1, model 20/20:
  Error in data$construct(): Check failed: (feature_fraction_bynode) &lt;= ...
  </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 1/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 1/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 2/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 2/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 3/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 3/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 4/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 4/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 5/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 5/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 6/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 6/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 7/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 7/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 8/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 8/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 9/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 9/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 10/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 10/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 11/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 11/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 12/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 12/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 13/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 13/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 14/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 14/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 15/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 15/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 16/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 16/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 17/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 17/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 18/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 18/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold06: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 19/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 19/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold06: preprocessor 1/1, model 20/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>x Fold06: preprocessor 1/1, model 20/20:
  Error in data$construct(): Check failed: (feature_fraction_bynode) &lt;= ...
  </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 1/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 1/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 2/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 2/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 3/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 3/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 4/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 4/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 5/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 5/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 6/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 6/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 7/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 7/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 8/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 8/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 9/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 9/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 10/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 10/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 11/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 11/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 12/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 12/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 13/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 13/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 14/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 14/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 15/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 15/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 16/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 16/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 17/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 17/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 18/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 18/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold07: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 19/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 19/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold07: preprocessor 1/1, model 20/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>x Fold07: preprocessor 1/1, model 20/20:
  Error in data$construct(): Check failed: (feature_fraction_bynode) &lt;= ...
  </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 1/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 1/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 2/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 2/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 3/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 3/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 4/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 4/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 5/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 5/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 6/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 6/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 7/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 7/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 8/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 8/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 9/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 9/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 10/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 10/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 11/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 11/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 12/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 12/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 13/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 13/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 14/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 14/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 15/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 15/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 16/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 16/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 17/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 17/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 18/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 18/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold08: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 19/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 19/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold08: preprocessor 1/1, model 20/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>x Fold08: preprocessor 1/1, model 20/20:
  Error in data$construct(): Check failed: (feature_fraction_bynode) &lt;= ...
  </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 1/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 1/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 2/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 2/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 3/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 3/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 4/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 4/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 5/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 5/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 6/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 6/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 7/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 7/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 8/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 8/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 9/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 9/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 10/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 10/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 11/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 11/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 12/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 12/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 13/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 13/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 14/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 14/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 15/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 15/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 16/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 16/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 17/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 17/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 18/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 18/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold09: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 19/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 19/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold09: preprocessor 1/1, model 20/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>x Fold09: preprocessor 1/1, model 20/20:
  Error in data$construct(): Check failed: (feature_fraction_bynode) &lt;= ...
  </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 1/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 1/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 1/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 2/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 2/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 2/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 3/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 3/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 3/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 4/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 4/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 4/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 5/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 5/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 5/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 6/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 6/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 6/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 7/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 7/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 7/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 8/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 8/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 8/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 9/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 9/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 9/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 10/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 10/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 10/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 11/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 11/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 11/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 12/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 12/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 12/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 13/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 13/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 13/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 14/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 14/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 14/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 15/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 15/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 15/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 16/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 16/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 16/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 17/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 17/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 17/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 18/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 18/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 18/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✓ Fold10: preprocessor 1/1, model 19/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 19/20 (extracts)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 19/20 (predictions)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>i Fold10: preprocessor 1/1, model 20/20</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>x Fold10: preprocessor 1/1, model 20/20:
  Error in data$construct(): Check failed: (feature_fraction_bynode) &lt;= ...
  </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ The workflow being saved contains a recipe, which is 8.32 Mb in ℹ memory. If
this was not intentional, please set the control setting ℹ `save_workflow =
FALSE`.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb914"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb914-1"><a href="#cb914-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View tuning results</span></span>
<span id="cb914-2"><a href="#cb914-2" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(lgbm_res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb915"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb915-1"><a href="#cb915-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the best hyperparameters by a chosen metric, e.g. "mcc"</span></span>
<span id="cb915-2"><a href="#cb915-2" aria-hidden="true" tabindex="-1"></a>best_params <span class="ot">&lt;-</span> <span class="fu">select_best</span>(lgbm_res, <span class="at">metric =</span> <span class="st">"accuracy"</span>)</span>
<span id="cb915-3"><a href="#cb915-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb915-4"><a href="#cb915-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Finalize the workflow with the best hyperparameters</span></span>
<span id="cb915-5"><a href="#cb915-5" aria-hidden="true" tabindex="-1"></a>final_wf <span class="ot">&lt;-</span> <span class="fu">finalize_workflow</span>(wf, best_params)</span>
<span id="cb915-6"><a href="#cb915-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb915-7"><a href="#cb915-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the final model to the entire training data</span></span>
<span id="cb915-8"><a href="#cb915-8" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb915-9"><a href="#cb915-9" aria-hidden="true" tabindex="-1"></a>final_model <span class="ot">&lt;-</span> <span class="fu">fit</span>(final_wf, <span class="at">data =</span> train_data)</span>
<span id="cb915-10"><a href="#cb915-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb915-11"><a href="#cb915-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate predictions on the test set</span></span>
<span id="cb915-12"><a href="#cb915-12" aria-hidden="true" tabindex="-1"></a>test_predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(final_model, <span class="at">new_data =</span> test_data, <span class="at">type =</span> <span class="st">"class"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb915-13"><a href="#cb915-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(<span class="fu">predict</span>(final_model, <span class="at">new_data =</span> test_data, <span class="at">type =</span> <span class="st">"prob"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb915-14"><a href="#cb915-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(test_data)</span>
<span id="cb915-15"><a href="#cb915-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb915-16"><a href="#cb915-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate performance metrics</span></span>
<span id="cb915-17"><a href="#cb915-17" aria-hidden="true" tabindex="-1"></a>metrics <span class="ot">&lt;-</span> yardstick<span class="sc">::</span><span class="fu">metric_set</span>(accuracy, mcc, roc_auc)</span>
<span id="cb915-18"><a href="#cb915-18" aria-hidden="true" tabindex="-1"></a>test_metrics <span class="ot">&lt;-</span> <span class="fu">metrics</span>(test_predictions, <span class="at">truth =</span> Diabetes_binary, <span class="at">estimate =</span> .pred_class, .pred_Diabetes)</span>
<span id="cb915-19"><a href="#cb915-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(test_metrics)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  .metric  .estimator .estimate
  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
1 accuracy binary         0.758
2 mcc      binary         0.517
3 roc_auc  binary         0.164</code></pre>
</div>
<div class="sourceCode cell-code" id="cb917"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb917-1"><a href="#cb917-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Confusion matrix</span></span>
<span id="cb917-2"><a href="#cb917-2" aria-hidden="true" tabindex="-1"></a>conf_mat <span class="ot">&lt;-</span> <span class="fu">conf_mat</span>(test_predictions, <span class="at">truth =</span> Diabetes_binary, <span class="at">estimate =</span> .pred_class)</span>
<span id="cb917-3"><a href="#cb917-3" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(conf_mat, <span class="at">type =</span> <span class="st">"heatmap"</span>) <span class="sc">+</span></span>
<span id="cb917-4"><a href="#cb917-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Confusion Matrix"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-21-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb918"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb918-1"><a href="#cb918-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract underlying LightGBM model</span></span>
<span id="cb918-2"><a href="#cb918-2" aria-hidden="true" tabindex="-1"></a>final_fit <span class="ot">&lt;-</span> <span class="fu">extract_fit_parsnip</span>(final_model)</span>
<span id="cb918-3"><a href="#cb918-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb918-4"><a href="#cb918-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get feature importance</span></span>
<span id="cb918-5"><a href="#cb918-5" aria-hidden="true" tabindex="-1"></a>importance <span class="ot">&lt;-</span> lightgbm<span class="sc">::</span><span class="fu">lgb.importance</span>(final_fit<span class="sc">$</span>fit)</span>
<span id="cb918-6"><a href="#cb918-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb918-7"><a href="#cb918-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to a data frame for plotting</span></span>
<span id="cb918-8"><a href="#cb918-8" aria-hidden="true" tabindex="-1"></a>importance_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(importance)</span>
<span id="cb918-9"><a href="#cb918-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb918-10"><a href="#cb918-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot feature importance</span></span>
<span id="cb918-11"><a href="#cb918-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(importance_df, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Feature, Gain), <span class="at">y =</span> Gain)) <span class="sc">+</span></span>
<span id="cb918-12"><a href="#cb918-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb918-13"><a href="#cb918-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb918-14"><a href="#cb918-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Feature Importance"</span>, <span class="at">x =</span> <span class="st">"Predictors"</span>, <span class="at">y =</span> <span class="st">"Gain"</span>) <span class="sc">+</span></span>
<span id="cb918-15"><a href="#cb918-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb918-16"><a href="#cb918-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="BMIN5070_FinalProject_files/figure-html/unnamed-chunk-21-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>It looks like this model was barely an improvement from the simple logistic regression model we trained earlier. We can see that general health and high blood pressure were ranked as the most important variables for this model.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Predicting diabetes from this dataset of survey questions proved to be challenging for the models we trained. Expanding the set of variables to include more demographic information may improve model performance. Overall, it seems like self-rated general health was the best indicator of whether or not a person has diabetes.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>